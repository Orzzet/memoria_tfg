\chapter{An\'alisis temporal y de costes}\label{anatemporal}

\section{Análisis temporal} 
\cuadro{|c|c|}{Tabla de resumen de la planificación.}{tab:prueba}{
Fecha de inicio & 20/02/2020 \\ 
\hline
Fecha de fin prevista & 14/06/2020 \\
\hline
Fecha de fin real & 4/12/2020 \\
\hline
Horas de trabajo previstas & 300\\
\hline
Horas de trabajo real & \\
\hline
}

\cuadro{|c|c|c|}{Tabla de tiempos}{tab:prueba}{
Tarea & Subtarea & Tiempo \\ 
\hline
Configurar servicios Cloud				&  								& 16h 55m \\
\hline
Diseñar primera CNN para segm. semántica.			  	   	& Primer modelo U-Net 		& 40m\\
										& Preparar Función de Pérdida y Optimizador  			& 1h 21m\\
										& Simplificar red o inputs para disminuir memoria		& 9h 40m\\
										& Resultados de primer entrenamiento de red						& 4h 22m\\
	 									& Elegir función de pérdida correcta		& 2h 50m\\
\hline
Usar métricas implementadas en kornia				&  								& 2h 55m \\
\hline
Investigar sobre CNN				&  								& 32h 18m \\
\hline
Mejoras en la CNN				& General 								& 11h 34m\\
				& Añadir métricas de validación y test  								& 3h \\
				& Implementar Apex 								& 2h 5m\\
				& Watershed  								& 2h 38m \\
\hline
Mejoras en los datos				& Prepar datos para batch							& 2h 37m\\
				& Data Augmentation 								& 2h 16m \\
\hline
Memoria				&   								& 71h 15m \\
\hline
Preparar Código				&  								& 2h 20m \\
\hline
Preparar Dataset en PyTorch				& Crear nuevo Dataset (clase en PyTorch)	& 29m \\
				& Estudiar imágenes de entrada  								& 19h 10m \\
				& Añadir espacio entre células   				& 10h 56m \\
				& Otros   								& 1h 47m \\
\hline
Total				&   								& 201 h 7m \\
}

\section{Resumen}\label{sec:resumencostes}
\cuadro{|c|c|c|}{Tabla de resumen de los costes.}{tab:costes}{
Concepto & Coste previsto & Coste real \\ 
\hline
Coste de personal & $5074.22$ & \\
\hline
Coste de servidores & $65.81$ & \\
\hline
Costes indirectos & $660.36$ & $1650.9$\\
\hline
Total & $5800.39$ &  \\
}


\subsection{Costes directos}\label{sec:costesdirectos}

\subsubsection{Costes de personal}\label{subsec:personal}

En los costes de personal se ha incluido el salario de los trabajadores involucrados en el proyecto. 

Tras investigar salarios actuales se ha concluido que un junior en el ámbito de inteligencia artificial (Ingeniero de Machine Learning, Ingeniero de Inteligencia Artificial, Ingeniero de Datos, Ingeniero de Big Data) puede cobrar $25000 $€$ $ brutos anuales. Según el BOE \cite{BOE} la empresa deberá pagar un $29.90\%$ ($23.60\%$ contigencias comunes + $5.50\%$ desempleo + $0.20\%$ FOGASA + $0.60\%$ formación profesional) del salario como coste a la Seguridad Social. Haciendo un total de $25000 $€$ * 1.299 = 32475 $€ anual.

Suponiendo que el sueldo se cobra en 12 pagas y que la jornada laboral es de 160 horas, el coste por hora para la empresa sería: $32475 $€$ / (12 * 160) = 16.914$€.

Al ser un proyecto de 300 horas, los costes de personal en total son $16.914 $€$ * 300 = 5074.22 $ €

\subsubsection{Costes de servidores}\label{subsec:servidores}

Al tratarse este proyecto de una aplicación de visión artificial con imágenes de alta definición y deep learning, el coste computacional ha sido muy alto. Es por ello que para el desarrollo de este sistema ha sido necesario el uso de una GPU con al menos 16GB de memoria (VRAM) para poder llegar a unos resultados mínimos. Al no disponer de ninguna máquina en físico que cumpla este requisito, se ha optado por alquilar servidores virtuales.

La computación se ha realizado en una máquina con la GPU P5000, con un valor de mercado de $1890.63$€ \cite{amazonp5000} pudiéndose alquilar por $0.78$\$/hora \cite{gradientdocs}. Aunque tenga estos costes, se ha aprovechado que la web en la que se puede alquilar también ofrece una capa gratuita en la que se puede usar esa GPU de forma indefinida con algunas limitaciones. Aún así se ha hecho el cálculo sin tener esta capa gratuita.

El servidor se ha usado aproximadamente durante 100 horas, usándose para desarrollar, entrenar y hacer inferencia. El coste sería de $0.78 * 100 = 78$\$, que en el momento de escribir esto equivale a $65.81$€.

\subsection{Costes indirectos}\label{sec:costesindirectos}

Se tomará como costes indirectos el uso de material informático en físico y costes varios.

Se ha utilizado el ordenador portátil MSI GP62 7RE Leopard Pro con un valor actual de $905.59$€ \cite{pccomponentes}. Suponiendo que un portátil tiene una esperanza de vida de 5 años, cada mes que se use en el proyecto supondrá un coste de $905.59 / (12*5) = 15.09$€.

Como costes varios se tomará la electricidad, el uso de periféricos, el coste de la oficina y otros. Debido a la incertidumbre al hacer este cálculo se supondrá un gasto de $150$€ al mes.

Según el plan en el que se estimaban 4 meses, el coste sería de $4 * (15.09 + 150) = 660.36$€. En la realidad el proyecto ha tomado 10 meses, por lo que el coste real sería $10 * (15.09 + 150) = 1650.9$€.